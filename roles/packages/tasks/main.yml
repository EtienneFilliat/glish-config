---

- name: update pacman cache
  pacman:
    update_cache: yes

- name: install packages
  become_user: "{{ main_user }}"
  yay:
    name: "{{ item }}"
    state: present
  loop: "{{ system_packages + additional_packages|default([]) }}"
  ignore_errors: yes